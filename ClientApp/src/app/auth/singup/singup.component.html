<app-auth-layout>
    <div class="flex flex-col p-4 absolute">
        <div class="flex justify-center">
            <div>
                <img src="../../../assets/shared/LOGOPIXL.png" class="w-12 mt-3" draggable="false">
            </div>
            <app-page-title title="Crea una cuenta" subtitle="Recuerda tener un numero de contrato"/>
        </div>
        <form [formGroup]="form" (ngSubmit)="addUser()">
            <div class="flex justify-between">
                <div class="flex flex-col mb-6 mr-1">
                    <label class="text-sm  mb-2" for="">Nombre(s)</label>
                    <input type="text" class="p-2 border border-zinc-300 rounded" placeholder="Ingresa tu contraseña" [disabled]="isLoading" formControlName="Nombre">
                </div>
                <div class="flex flex-col mb-6 ml-1">
                    <label class="text-sm  mb-2" for="">Apellido paterno</label>
                    <input type="text" class="p-2 border border-zinc-300 rounded" placeholder="Ingresa tu apellido paterno" [disabled]="isLoading" formControlName="ApellidoPat">
                </div>
            </div>
            <div class="flex justify-between">
                <div class="flex flex-col mb-6 mr-1">
                    <label class="text-sm  mb-2" for="">Apellido materno</label>
                    <input type="text" class="p-2 border border-zinc-300 rounded" placeholder="Ingresa tu apellido materno" [disabled]="isLoading" formControlName="ApellidoMat">
                </div>
                <div class="flex flex-col mb-6 ml-1">
                    <label class="text-sm  mb-2" for="">Nombre de usuario</label>
                    <input type="text" class="p-2 border border-zinc-300 rounded" placeholder="Elige un nombre de usuario" [disabled]="isLoading" formControlName="UserName">
                </div>
            </div>
            <div class="flex flex-col mb-6">
                <label class="text-sm  mb-2" for="">Correo</label>
                <input type="text" class="p-2 border border-zinc-300 rounded" placeholder="Ingresa tu correo" [disabled]="isLoading" formControlName="Email">
            </div>
            <div class="flex flex-col mb-6">
                <label class="text-sm  mb-2" for="">Numero de contrato</label>
                <input type="text" class="p-2 border border-zinc-300 rounded" placeholder="Ingresa tu numero de contrato" [disabled]="isLoading" formControlName="NumeroContrato">
            </div>
            <div class="flex flex-col mb-6">
                <label class="text-sm  mb-2" for="">Contraseña</label>
                <input type="password" class="p-2 border border-zinc-300 rounded" placeholder="Ingresa tu contraseña" [disabled]="isLoading" formControlName="Password" [(ngModel)]="setPassword" (ngModelChange)="comparePassword()">
            </div>
            <div class="flex flex-col mb-6">
                <label class="text-sm  mb-2" for="">Confirmar contraseña</label>
                <input type="password" class="p-2 border border-zinc-300 rounded" placeholder="Confirma tu contraseña" [disabled]="isLoading" formControlName="passConfirm" [(ngModel)]="confirmPassword" (ngModelChange)="comparePassword()">
            </div>
            <div class="flex flex-col mb-6" *ngIf="canConfirm == false">
                <span class="text-red-500">Las contraseñas no coinciden</span>
            </div>
            <div class="flex">
                <button mat-flat-button color="primary" type="submit" class="w-full" [disabled]="canConfirm == false || !form.valid || isLoading">
                    <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
                    <span *ngIf="isLoading == false">Crear cuenta</span>
                </button>
            </div>
        </form>
        <div class="flex justify-center items-center mt-4 pt-2 border-t border-t-zinc-300">
            <p class="text-sm">¿Ya tienes una cuenta? <a [routerLink]="['/']" class=" text-indigo-600">Inicia sesión</a></p>
        </div>
    </div>
     <!-- Error message -->
     <div class="flex justify-between items-center p-3 border-2 border-red-400 rounded bg-white shadow-md relative mt-[830px]" *ngIf="singupError">
        <svg xmlns="http://www.w3.org/2000/svg" fill="#FF4040" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-white mr-2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span class="text-zinc-600">{{singupErrorMessage}}</span>
    </div>
</app-auth-layout>
